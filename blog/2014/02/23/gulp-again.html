<!DOCTYPE html><html lang=en><head><!--[if lt IE 10]><meta http-equiv="refresh" content="0; url=/sorry/"><![endif]--><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>Gulp again - Lucas</title><meta name=viewport content="width=device-width"><meta name=description content="A new look over Gulp"><!-- Prefetch DNS --><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//platform.twitter.com><link rel=dns-prefetch href=//p.twitter.com><link rel=dns-prefetch href=//cdn.api.twitter.com><link rel=dns-prefetch href=//www.google-analytics.com><link rel=dns-prefetch href=//themes.googleusercontent.com><link rel=dns-prefetch href=//a.disquscdn.com><link rel=stylesheet href=/css/b13a.main.css><link rel=canonical href=http://agtlucas.com/blog/2014/02/23/gulp-again.html><meta name=twitter:card content=summary><meta name=twitter:site content=@_agtlucas><meta name=twitter:creator content=@_agtlucas><meta property=og:url content=http://agtlucas.com/blog/2014/02/23/gulp-again.html><meta property=og:type content=website><meta property=og:title content="Gulp again"><meta property=og:description content="A new look over Gulp"><link rel="shortcut icon" href=/img/favicon.ico><link rel=author href=https://plus.google.com/+LucasChurchill></head><body class="blog-post peaceful"><header class=main-header role=banner><nav><ul class=header-links><li><h3 class=logo><a href="/" data-pjax=.main>Lucas</a></h3></li><li><a href=/about data-pjax=.main>About</a></li><li><a href=/blog data-pjax=.main>Blog</a></li><li><a href=/contact data-pjax=.main>Contact</a></li></ul></nav></header><div class=main role=main><article class="content post-content" role=article><h2 class=post-title>Gulp again</h2><small class=meta>23 Feb 2014</small><div class=post><p>Thanks for some people that pointed out my mistakes in my <a href=http://agtlucas.com/blog/2014/01/04/gulp.html target=_blank>last post about Gulp</a>, I've decided to take a new look over Gulp and so I did it.</p><p>The Gulp itself had some changes since the last time that I had played with it, but nothing very different.</p><p>Now I get the point, we must chain the tasks to make them work better, AKA, one after another and so on.</p><h4>Sample:</h4><div class=highlight><pre><code class=js><span class=kd>var</span> <span class=nx>gulp</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;gulp&#39;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>sass</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;gulp-ruby-sass&#39;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>uglify</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;gulp-uglify&#39;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>watch</span> <span class=o>=</span> <span class=nx>require</span><span class=p>(</span><span class=s1>&#39;gulp-watch&#39;</span><span class=p>);</span>

<span class=cm>/**</span>
<span class=cm> * Styles task</span>
<span class=cm> */</span>
<span class=nx>gulp</span><span class=p>.</span><span class=nx>task</span><span class=p>(</span><span class=s1>&#39;styles&#39;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
  <span class=k>return</span> <span class=nx>gulp</span><span class=p>.</span><span class=nx>src</span><span class=p>(</span><span class=s1>&#39;assets/scss/style.scss&#39;</span><span class=p>)</span>
    <span class=p>.</span><span class=nx>pipe</span><span class=p>(</span><span class=nx>sass</span><span class=p>({</span> <span class=nx>style</span><span class=o>:</span> <span class=s1>&#39;compressed&#39;</span> <span class=p>}))</span>
    <span class=p>.</span><span class=nx>pipe</span><span class=p>(</span><span class=nx>gulp</span><span class=p>.</span><span class=nx>dest</span><span class=p>(</span><span class=s1>&#39;build/css&#39;</span><span class=p>));</span>
<span class=p>});</span>

<span class=cm>/**</span>
<span class=cm> * JS task</span>
<span class=cm> */</span>
<span class=nx>gulp</span><span class=p>.</span><span class=nx>task</span><span class=p>(</span><span class=s1>&#39;compress&#39;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
  <span class=k>return</span> <span class=nx>gulp</span><span class=p>.</span><span class=nx>src</span><span class=p>(</span><span class=s1>&#39;assets/js/**/*.js&#39;</span><span class=p>)</span>
    <span class=p>.</span><span class=nx>pipe</span><span class=p>(</span><span class=nx>rename</span><span class=p>({</span> <span class=nx>suffix</span><span class=o>:</span> <span class=s1>&#39;.min&#39;</span> <span class=p>}))</span>
    <span class=p>.</span><span class=nx>pipe</span><span class=p>(</span><span class=nx>uglify</span><span class=p>())</span>
    <span class=p>.</span><span class=nx>pipe</span><span class=p>(</span><span class=nx>gulp</span><span class=p>.</span><span class=nx>dest</span><span class=p>(</span><span class=s1>&#39;build/js&#39;</span><span class=p>));</span>
<span class=p>});</span>

<span class=cm>/**</span>
<span class=cm> * Watch task</span>
<span class=cm> */</span>
<span class=nx>gulp</span><span class=p>.</span><span class=nx>task</span><span class=p>(</span><span class=s1>&#39;watch&#39;</span><span class=p>,</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
  <span class=nx>server</span><span class=p>.</span><span class=nx>listen</span><span class=p>(</span><span class=mi>35729</span><span class=p>,</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
    <span class=k>if</span> <span class=p>(</span><span class=nx>err</span><span class=p>)</span> <span class=p>{</span>
      <span class=k>return</span> <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>err</span><span class=p>)</span>
    <span class=p>};</span>

    <span class=nx>gulp</span><span class=p>.</span><span class=nx>watch</span><span class=p>(</span><span class=s1>&#39;assets/scss/*.scss&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;styles&#39;</span><span class=p>]);</span>

    <span class=nx>gulp</span><span class=p>.</span><span class=nx>watch</span><span class=p>(</span><span class=s1>&#39;assets/js/**/*.js&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;compress&#39;</span><span class=p>]);</span>
  <span class=p>})</span>
<span class=p>});</span>

<span class=cm>/**</span>
<span class=cm> * Default task</span>
<span class=cm> */</span>
<span class=nx>gulp</span><span class=p>.</span><span class=nx>task</span><span class=p>(</span><span class=s1>&#39;default&#39;</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;watch&#39;</span><span class=p>],</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span>
  <span class=nx>gulp</span><span class=p>.</span><span class=nx>start</span><span class=p>(</span><span class=s1>&#39;styles&#39;</span><span class=p>,</span> <span class=s1>&#39;compress&#39;</span><span class=p>);</span>
<span class=p>});</span>
</code></pre></div><p>Is simpler than Grunt in my opinion, and it's clearly fast.</p><h3>Further Reading:</h3><ul><li><a href=https://github.com/yeoman/generator-gulp-webapp target=_blank>Yeoman + Gulp</a></li><li><a href="http://markdalgleish.github.io/presentation-build-wars-gulp-vs-grunt/" target=_blank>Build Wars: Gulp vs Grunt</a></li><li><a href="http://markgoodyear.com/2014/01/getting-started-with-gulp/" target=_blank>Getting started with Gulp</a></li></ul><p>Thanks <a href=https://github.com/gummesson target=_blank>Ellen Gummesson</a> and <a href=https://github.com/weblancaster target=_blank>Michael Lancaster</a>, for the tips and help!</p></div><section class=prev-next-posts><ul><li class=next-post><a href=/blog/2014/02/24/old-friends.html class=pn-link data-pjax=.main><h4>Next Post</h4><span>Old friends</span></a></li><li class=prev-post><a href=/blog/2014/02/22/sass-source-maps-chrome.html class=pn-link data-pjax=.main><h4>Previous Post</h4><span>Sass + Source Maps + Google Chrome</span></a></li></ul></section><section class=comments><h4 class=show-comments id=show-comments>Show Comments</h4><div class=comments-content><div class=post-comments id=disqus_thread></div></div></section></article></div><footer class=main-footer><small>&copy; 2014 - <a href=mailto:lucas@agtlucas.com>Lucas</a> - Powered by <a href="http://jekyllrb.com/" target=_blank>Jekyll</a> + <a href="http://pages.github.com/" target=_blank>GitHub Pages</a></small></footer><script type=text/javascript>WebFontConfig = {
    google: { families: [ 'Open+Sans:400,700,300:latin' ] }
  };
  (function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
      '://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
  })();</script><script src=/js/8a77.scripts.js></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-44982428-1', 'agtlucas.com');
  ga('send', 'pageview');</script></body></html>